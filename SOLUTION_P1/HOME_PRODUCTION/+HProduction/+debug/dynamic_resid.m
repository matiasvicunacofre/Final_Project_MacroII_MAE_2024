function [lhs, rhs] = dynamic_resid(y, x, params, steady_state)
T = NaN(15, 1);
lhs = NaN(17, 1);
rhs = NaN(17, 1);
T(1) = params(6)*y(23)^(params(8)-1);
T(2) = params(6)*y(23)^params(8)+(1-params(6))*y(24)^params(8);
T(3) = T(1)/T(2);
T(4) = params(1)*y(40)^(params(8)-1);
T(5) = params(6)*y(40)^params(8)+(1-params(6))*y(41)^params(8);
T(6) = (1-params(6))*params(1)*y(41)^(params(8)-1);
T(7) = T(6)*y(30);
T(8) = (1-params(6))*y(24)^(params(8)-1);
T(9) = y(30)*T(8);
T(10) = y(8)^params(3);
T(11) = y(33)*T(10);
T(12) = y(27)^(1-params(3));
T(13) = y(9)^params(7);
T(14) = y(34)*T(13);
T(15) = y(28)^(1-params(7));
lhs(1) = T(3);
rhs(1) = T(4)*(y(46)+1-params(2))/T(5);
lhs(2) = T(3);
rhs(2) = T(4)*(1-params(2))/T(5)+T(7)/T(5);
lhs(3) = params(5)/y(20);
rhs(3) = T(1)*y(29)/T(2);
lhs(4) = params(5)/y(20);
rhs(4) = T(9)/T(2);
lhs(5) = y(23);
rhs(5) = y(21)+(1-params(2))*y(8)-y(25);
lhs(6) = y(24);
rhs(6) = y(22);
lhs(7) = y(20);
rhs(7) = 1-y(28)-y(27);
lhs(8) = y(18);
rhs(8) = (1-params(2))*y(1)+y(19);
lhs(9) = y(18);
rhs(9) = y(25)+y(26);
lhs(10) = y(21);
rhs(10) = T(11)*T(12);
lhs(11) = y(22);
rhs(11) = T(14)*T(15);
lhs(12) = y(29);
rhs(12) = params(3)*y(21)/y(8);
lhs(13) = y(30);
rhs(13) = params(7)*y(22)/y(9);
lhs(14) = y(31);
rhs(14) = (1-params(3))*y(21)/y(27);
lhs(15) = y(32);
rhs(15) = (1-params(7))*y(22)/y(28);
lhs(16) = log(y(33));
rhs(16) = params(4)*log(y(16))+x(1);
lhs(17) = log(y(34));
rhs(17) = params(4)*log(y(17))+x(2);
end
